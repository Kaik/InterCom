{% if message.getUserData() and message.getUserData().label %}
    <span class="label label-info" title="{{ __('Label')}} {{ message.getUserData().label.name }}"> <i class="fa fa-tag"> </i> {{ message.getUserData().label.name }}</span>
{% else %}
{% endif %}
<div class="btn-group btn-group-sm text-right pull-right">
    {% if message.getUserData() and message.getUserData().notified %}
        <a class="btn text-muted" title="{{ __('Notified')}} {{ message.getUserData().notified|date("m/d/Y") }}"> <i class="fa fa-bell-o"> </i></a>
    {% else %}
        <a class="btn text-warning" title="{{ __('Notification not send.')}}"> <i class="fa fa-bell-o"> </i></a>
    {% endif %}
    {% if message.getUserData() and message.getUserData().seen %}
        <a class="btn text-muted" title="{{ __('Message seen')}} {{ message.getUserData().seen|date("m/d/Y") }}"> <i class="fa fa-eye"> </i></a>
    {% else %}
        <a class="btn text-warning" title="{{ __('Unread')}}"> <i class="fa fa-eye-slash"> </i></a>
    {% endif %}
    {# @todo add last visit check and bulk replied update #}
    {% if message.getUserData() and message.getUserData().replied %}
        <a class="btn text-warning" title="{{ __('Replied')}} {{ message.getUserData().replied|date("m/d/Y") }}"> <i class="fa fa-commenting-o"> </i>{{ message.conversation.length }}</a>
    {% else %}
        <a class="btn text-muted" title="{{ __('Not replied.')}}"> <i class="fa fa-comment-o"> </i> {{ message.conversation.count() }}</a>
    {% endif %}
    <div class="btn"><input class="conversation-select" data-id="{{ message.id }}" name="selectable[{{ message.id }}]" type="checkbox"></div>
    <a data-toggle="collapse" data-seen="{#{{ message.seen is empty ? "false" : "true" }}#}" data-id="{{ message.id }}" class="conversation-details" data-target="#conversation-body-{{ message.id }}" > <span class="fa fa-angle-down fa-2x" title="{{__('Read')}}"> </span></a>
</div>